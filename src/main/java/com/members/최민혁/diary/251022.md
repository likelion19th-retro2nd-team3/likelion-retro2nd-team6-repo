### í•„ë“œ -> ê°ì²´íƒ€ì…(id)
- Default ê°€ null ì´ê¸° ë•Œë¬¸
- ìë£Œí˜• ì„ ì“°ê²Œ ë˜ë©´ ë””í´íŠ¸ê°€ 0ì´ë¼ì„œ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•Šê³  ë””í´íŠ¸ê°’ìœ¼ë¡œ ì €ì¥í•˜ê²Œ ë¨
- ì´ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•Šê¸°ë„í•˜ê³  updateëŠ” insertì™€ ê°™ì´ save ë¡œ ê°™ì€ ë©”ì„œë“œë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì—
ê·¸ì € updateë§Œ ë ë“¯..

### @GeneratedValue(strategy = GenerationType.IDENTITY)
- í•„ë“œì— ë¶™ì„
- Create ì‹œ í•´ë‹¹ ì»¬ëŸ¼ì— Auto_increment í•´ì„œ ìƒì„±ì‹œì¼œì¤Œ

<ìˆ˜ì—…ì‹œ ì˜¤ë¥˜ê°€ ë‚¬ë˜ ì´ìœ >  
í•´ë‹¹ ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì´ì§€ ì•Šê³  í…Œì´ë¸”ì„ ìƒì„±í–ˆê¸° ë•Œë¬¸  
-> ì»¬ëŸ¼ì— Auto_incrementê°€ ì—†ì´ ìƒì„±ë˜ì—ˆê³  JPAê°€ ì´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•´ idë¥¼ ì œëŒ€ë¡œ ìƒì„±í•˜ì§€ ëª»í–ˆìŒ




### ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸
íŒ©í† ë¦¬ë¥¼ í†µí•´ EntityManager ë¥¼ ìƒì„±  
EntityManagerì— ì €ì¥ëœ ê°’ë“¤ì€ ì˜ì†ì„±ì„ ê°€ì§„ë‹¤
ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ == 1ì°¨ìºì‹œ -> EntityManagerì— ì €ì¥ë¨..

### EntityManager
ğŸ© EntityManagerëŠ” â€œì‚¬ì„œ(librarian)â€  
ì´ ì‚¬ì„œëŠ” ì±…ì„ ë³´ê´€í•˜ê¸°ë„ í•˜ê³ (DBì—ì„œ)  
ì´ë¯¸ ë¹Œë ¤ê°„ ì±…ì„ ì¶”ì í•˜ê¸°ë„ í•˜ê³ (1ì°¨ ìºì‹œ) -> ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸  
ë¹Œë¦° ì±…ì˜ ë³€í™”ë„ ê¸°ì–µí•˜ê³ (snapshot)  
ì±…ì„ ë‹¤ì‹œ ë°˜ë‚©í•  íƒ€ì´ë°ë„ ì•Œê³ (flush)  
ëˆ„ê°€ ì–´ë–¤ ì±…ì„ ì½ê³  ìˆëŠ”ì§€ ê´€ë¦¬ê¹Œì§€ í•´ì¤˜ìš”.
- EntityManager ìƒì„±
```angular2html
EntityManagerFactory emf = Persistence.createEntityManagerFactory("lionPU");
EntityManager em = emf.createEntityManager();
```
### ê°ì²´ ìƒì„± ë° persistence
```angular2html
Product snack = new Product("ê³¼ì", 500); //ë¹„ì˜ì†ì„±
   em.persist(snack);  //ì˜ì†ì„±
```
snack -> í™ê³µê°„ì— ì €ì¥  (JVM)  
em.persist(snack) -> emê°ì²´ì— snack ì €ì¥ -> ì˜ì†ì„±ìœ¼ë¡œ ë³€í™˜  
em ê°ì²´ëŠ” JPAê°€ ì¶”ì í•´ì£¼ëŠ” ê°ì²´ (DBì™€ ë§¤í•‘í•´ì¤Œ)  

### find
```angular2html
User user = em.find(User.class, 1L); -> ì˜ì†ì„±
em.clear(); -> ë°˜ì˜ì†ì„±
```
-> emê°ì²´ ì•ˆ(1ì°¨ ìºì‹œ) í•´ë‹¹ ê°’ì„ ì°¾ê³  ìˆìœ¼ë©´ return
-> ì—†ìœ¼ë©´ dbì¿¼ë¦¬ ì‹¤í–‰ í›„ emì— ì €ì¥ í›„ return
-> ì´ë•Œ emì—ëŠ” ìë°” ê°ì²´(í™ì—ì €ì¥ëœ ê°ì²´)ë¥¼ ì°¸ì¡°í•˜ëŠ” ê°ì²´ì™€ ìŠ¤ëƒ…ìƒ·ì´ë¼ëŠ” ê°ì²´ê°€ ë™ì‹œì— ì €ì¥ë¨..
-> userëŠ” ê°’ì„ í™ì— ìë°” ê°ì²´ë¥¼ ì°¸ì¡°
-> clear ì‹œ emì— ìˆëŠ” ëª¨ë“  ê°’ë“¤ì´ ì‚¬ë¼ì§
-> ë‹¤ë§Œ ìë°”ê°ì²´ëŠ” ì‚´ì•„ìˆìŒ..
-> ì˜ì†ì„±ì— í•œ ë²ˆ ìˆì—ˆê¸° ë•Œë¬¸ì— ë°˜ì˜ì†ì„±ì´ë¼ ë¶€ë¦„..


ë‚´ë¶€êµ¬ì¡°
```angular2html
[EntityManager em]
â””â”€â”€ Persistence Context (1ì°¨ ìºì‹œ)
    â”œâ”€â”€ Managed Entity (User ê°ì²´ ë“±)
    â””â”€â”€ Snapshot Map (User ê°ì²´ì˜ ì›ë³¸ í•„ë“œê°’ ë³µì‚¬ë³¸ë“¤)(jvmì´ ì•„ë‹ˆë¼jpaê°€ ê´€ë¦¬)
```

### set
```angular2html
User user = em.find(User.class, 1L); 
user.setName("ë¯¼í˜")
em.geTrancsaction().commit()
```
-> user.nameì„ ë°”ê¿¨ëŠ”ë° emê°ì²´ê°€ ì–´ë–»ê²Œ í™•ì¸í•˜ê³  ì¿¼ë¦¬ë¥¼ ë‚ ë¦´ê¹Œ..
-> setì„ í†µí•´ ìë°”ê°ì²´ê°€ ë°”ë€ë‹¤ê³  ë°”ë¡œ ì¿¼ë¦¬ë¬¸ì„ ë‚ ë¦¬ì§„ ì•ŠìŒ..
-> ì´ë¥¼ commit í–ˆì„ ë•Œ ì¿¼ë¦¬ë¬¸ì´ ë‚ ë¼ê°€ëŠ”ë° ì´ ë–„, emì— ì €ì¥ëœ ìë°”ê°ì²´ì™€ 
snapshot(ë³µì‚¬ëœ ê°ì²´)ì˜ ê°’ì„ ë¹„êµ í›„ ë³€ê²½ëœ ê°’ì— ëŒ€í•´ updateì¿¼ë¦¬ ë¬¸ì„ ë‚ ë¦¬ê²Œ ë¨


EntityManager
ì€.. ë§µí˜•ì‹ìœ¼ë¡œ ë˜ì–´ ìˆìŒ.. (<class,pk> / value)
value-> javaObject, snapshot


### junit
- ìë°”ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ê²€ì¦í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬

### ì‚¬ìš©ë°©ë²•
`` Main -> folder->class
Test -> folder -> class ``

- ëª¨ë“  ê²½ë¡œë¥¼ ë˜‘ê°™ì´ ìƒì„±í›„ Test classë¥¼ ë§Œë“¤ë©´  testë¥¼ í•  ìˆ˜ ìˆë‹¤

### Assertions
Assertions ê°ì²´ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— ê°’ì„ ë„£ê³  ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤.
```
@Test
    public void add(){
        int result = calculator.add(1,2);
        Assertions.assertEquals(3,result);
    } 
```
Assertions importë¥¼ ë‹¬ë©´ Assertionsë¥¼ ê¸°ì…í•˜ì§€ ì•Šê³  ë©”ì„œë“œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```angular2html
import static org.junit.jupiter.api.Assertions.*;

@Test
public void add(){
int result = calculator.add(1,2);
assertEquals(3,result);
}

```

### @Test
Testí•˜ëŠ” ë§¤ì„œë“œì— ê¸°ì…

### @Before/AfterEach
ê° í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ë¡œì§ì„ êµ¬í˜„

### @Before/AfterAll
í´ë˜ìŠ¤ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹œí–‰í•˜ê¸° ì „ê³¼ í›„ì— ë‹¨ 1ë²ˆ ì‹¤í–‰ë˜ëŠ” ë¡œì§